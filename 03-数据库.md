# ===========   mongodb   ===========

mongodb的基本使用

## 案列需求

存放文章评论的数据存放到MongoDB中，数据结构参考如下： 

数据库：articledb 

![image](https://gitee.com/heguangchuan/rainmeter/raw/master/img/mongo/article.png )

# ==============   数据库   =============

离不开的增删改查,MongoDB 中默认的数据库为 test，如果你没有选择数据库，集合将存放在 test 数据库中,有一些数据库名是保留的，可以直接访问这些有特殊作用的数据库

#### 选择和创建数据库

如果数据库不存在则自动创建

```sql
use articledb
```

#### 查看数据库

查看有权限查看的所有的数据库命令

```sql
show dbs
```

查看正在使用的数据库

```sql
db
```

#### 删除数据库

MongoDB 删除数据库的语法格式如下：

```sql
db.dropDatabase()
```

提示：主要用来删除已经持久化的数据库


# ==============  集合  =============

#### 创建集合

集合，类似关系型数据库中的表。 可以显示的创建，也可以隐式的创建

##### 显式创建

```sq
db.createCollection(name) 
```

集合的命名规范： 

- 集合名不能是空字符串""。 
- 集合名不能含有\0字符（空字符)，这个字符表示集合名的结尾。 
- 集合名不能以"system."开头，这是为系统集合保留的前缀。 
- 用户创建的集合名字不能含有保留字符。有些驱动程序的确支持在集合名里面包含，这是因为某些系统生成的集合中包含该字符。除 非你要访问这种系统创建的集合，否则千万不要在名字里出现$。 

##### 隐式创建

当向一个集合中插入一个文档的时候，如果集合不存在，则会自动创建集合,通常我们使用隐式创建文档即可

##### 查看集合

```sql
show collections 
或
show tables
```

##### 删除集合

```sql
db.collection.drop() 
或
db.集合.drop()
```

如果成功删除选定集合，则 drop() 方法返回 true，否则返回 false。 

例如：要删除mycollection集合

```sql
db.mycollection.drop()
```

# 
